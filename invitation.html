<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Javi and Jen's Wedding</title>
    <link rel="shortcut icon" href="img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="theme.css">
    <link rel="stylesheet" type="text/css" href="./icons/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Wire+One&display=swap">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css">

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
  </head>
  <body>
    <header class="header">
      <div class="wrapper">
        <h1 class="heading">
          Javi & Jen
          <span class="heading-subtext" style="font-size: .5em;"> are getting married at <a rel="noopener" target="_blank" href="https://www.google.com/maps/place/La+Baronia/@41.6997006,2.1577025,15z/data=!4m2!3m1!1s0x0:0x22a5445315586c4f?sa=X&ved=2ahUKEwiZ_7Hfxa36AhWH_KQKHc-iAcgQ_BJ6BAhlEAc">La Baronia</a>. See you there?!</span>
        </h1>
      </div>
      <span id="countdown">Saturday April 29, 2023</span>
    </header>
    <div class="navigation">
      <a data-scroll href="https://forms.gle/3f8pbY7bsptuFsvb8" target="_blank">RSVP</a>
    </div>

    <script src="./js/smooth-scroll.polyfills.min.js"></script>
    <script defer>
      var scroll = new SmoothScroll('a[href*="#"]');
      var rsvpButton = document.getElementById('rsvpButton')

      var javi = 'YnV6emkuamF2aWVyQGdtYWlsLmNvbQ==';
      var javi2 = 'RVM2MyAwMTI4IDA1MDQgODEwMSAwMDA0IDg2MTM=';
      var jen = 'amVubnlsb25nMjI4OEBnbWFpbC5jb20=';
      var jen2 = 'KzM0NjA3MDc5ODY0';

      function createLink(type, value, wrapElement, display) {
        var el = document.createElement("a");
        el.href = type + value
        el.innerHTML = display || value
        wrapElement.innerHTML = el.outerHTML
      }

      createLink('m' + 'a' + 'i' + 'l' + 't' + 'o' + ':', atob(javi), document.getElementById('javi'));
      document.getElementById('javi2').innerHTML = atob(javi2);
      createLink('m' + 'a' + 'i' + 'l' + 't' + 'o' + ':', atob(jen), document.getElementById('jen'));
      createLink('m' + 'a' + 'i' + 'l' + 't' + 'o' + ':', atob(jen), document.getElementById('jen'));
      createLink('t' + 'e' + 'l' + ':', atob(jen2), document.getElementById('jen2'));
      createLink('https://wa.me/', atob(jen2).replace('+', ''), document.getElementById('jen3'), '(WhatsApp)');

      var countDownDate = new Date("Apr 29, 2023 14:00:00").getTime();

      var x = setInterval(function() {

        // Get today's date and time
        var now = new Date().getTime();

        // Find the distance between now and the count down date
        var distance = countDownDate - now;

        // Time calculations for days, hours, minutes and seconds
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("countdown").innerHTML = days + "d " + hours + "h "
        + minutes + "m " + seconds + "s ";

        // If the count down is finished, write some text
        if (distance < 0) {
          clearInterval(x);
          document.getElementById("countdown").innerHTML = "Thank you for coming.";
        }
      }, 1000);

      var swiper = new Swiper('.swiper', {
        // Optional parameters
        direction: 'horizontal',
        centeredSlides: true,
        loop: true,

        // If we need pagination
        pagination: {
          el: '.swiper-pagination',
        },

        // Navigation arrows
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },

        // And if we need scrollbar
        scrollbar: {
          el: '.swiper-scrollbar',
        },
      });
    </script>
  </body>
</html>
